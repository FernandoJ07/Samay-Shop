{% extends 'samayShop/layout.html' %}

{% load static %}

{% block title %} Contactenos {% endblock %}

{% block content %}

    <!-- Contact Section Begin -->
    <section class="contact spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6">
                    <div class="contact__content">
                        <div class="contact__address">
                            <h5>Contactanos:</h5>
                            <div class="container">
                                <div>
                                    <h6><i class="fa fa-map-marker"></i> Dirección</h6>
                                    <p>Cra.12#57-13,Cali,Valle del cauca</p>
                                </div>
                                <div>
                                    <h6><i class="fa fa-phone"></i> Teléfono</h6>
                                    <p><span>304 557 57 47</span></p>
                                </div>
                                    
                                <div>
                                    <h6><i class="fa fa-headphones"></i> Correo electrónico</h6>
                                    <p>karjodiaz@gmail.com</p>
                                </div>

                            </div>
  
                        </div>
                        <div class="contact__form">
                            <h5>Enviar mensaje</h5>
                            <form id='formContacto' action="https://formspree.io/f/mnqlewvv"  method="POST">
                                {% csrf_token %}
                                <input  type="text" name="name" autocomplete="off" placeholder="Nombre" required/>
                                <input type="email" autocomplete="off"  name="email" placeholder="Correo electrónico" required/>
                                <input type="text" autocomplete="off" name="subject" placeholder="Asunto" required/>
                                <textarea  placeholder="Mensaje" required></textarea>
                                <button class="site-btn">Enviar mensaje</button>
                                <p class="mt-2" id="statusForm"></p>
                            </form>
                        </div>


                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="contact__map">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3982.5953598737865!2d-76.49740678555348!3d3.448134752204174!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e30a7aecab7e555%3A0x2e4864fe033d0595!2sIE%20JUAN%20DE%20AMPUDIA!5e0!3m2!1ses!2sco!4v1637442951854!5m2!1ses!2sco" width="600" height="750" style="border:none; box-shadow: 3px 2px 10px rgba(0,0,0,0.2);" allowfullscreen="" loading="lazy"></iframe>
                    </iframe>
                </div>
            </div>
        </div>
    
    </section>
<!-- Contact Section End -->


<!-- Envío de formulario  -->
<script>
    document.getElementById('formContacto').addEventListener('submit', handleSubmit)

    async function handleSubmit(event) {
        event.preventDefault();
        var status = document.getElementById("statusForm");
        var data = new FormData(this);
        const response = await fetch(this.action, {
            method: this.method,
            body: data,
            headers: {
                'Accept': 'application/json'
            }
        })
        if (response.ok){
            status.innerHTML = "Gracias por su envío!";
            this.reset()
        }else{
            status.innerHTML = "¡UPS! Hubo un problema al enviar su formulario"
        }
        
    }
</script>

{% endblock  %}